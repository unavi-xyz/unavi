[workspace]
members  = ["crates/*", "wasm/*"]
resolver = "2"

[workspace.package]
edition    = "2024"
license    = "MPL-2.0"
repository = "https://github.com/unavi-xyz/unavi"
version    = "0.0.10"

[workspace.lints.clippy]
too_many_arguments = "allow"
type_complexity    = "allow"

[workspace.metadata.release]
publish        = false
shared-version = true
tag-name       = "v{{version}}"

[workspace.dependencies]
anyhow             = "1.0.100"
avian3d            = "0.3"
bevy               = "0.16.1"
bincode            = "2.0.1"
directories        = "6.0.0"
futures            = "0.3.31"
serde              = "1.0.228"
serde_json         = "1.0.145"
tarpc              = "0.37.0"
tokio              = "1.47.1"
tracing            = "0.1.41"
tracing-subscriber = "0.3.19"
wit-bindgen        = "0.46.0"
zeroize            = "1.8.2"

dwn  = { git = "https://github.com/unavi-xyz/dwn", version = "0.3.0" }
xdid = { git = "https://github.com/unavi-xyz/dwn", version = "0.3.0" }
# dwn  = { path = "../dwn/crates/dwn" }
# xdid = { path = "../dwn/crates/xdid" }

[profile.release]
lto = "thin"

[profile.release-wasm]
inherits  = "release"
opt-level = "s"
